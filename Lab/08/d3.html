<!DOCTYPE html>
<html>
  <head>
    <title>Task 1: D3 - Ana Hinojosa</title>
	
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <style>
		body { font-family: sans-serif; }
		.line { fill: none; stroke-width: 2px; }
		.high { stroke: red; }
		.low { stroke: steelblue; }
		.axis path,
		.axis line { fill: none; stroke: #000; shape-rendering: crispEdges; }
    </style>
  </head>
  <body>
	<div style="text-align: center;">
		<h2>College Station Weekly Temperature Forecast</h2>
		<svg width="700" height="400"></svg>
	</div>
	<script>
		const data = [
		  { day: "Sat", high: 82, low: 67 },
		  { day: "Sun", high: 81, low: 59 },
		  { day: "Mon", high: 81, low: 50 },
		  { day: "Tue", high: 70, low: 47 },
		  { day: "Wed", high: 77, low: 51 },
		  { day: "Thu", high: 78, low: 60 },
		  { day: "Fri", high: 79, low: 66 },
		  { day: "Sat ", high: 80, low: 66 }
		];

		const width = 700;
		const height = 400;
		const margin = { top: 20, right: 30, bottom: 30, left: 50 };

		const x = d3.scalePoint()
			.domain(data.map(d => d.day))
			.range([margin.left, width - margin.right])
			.padding(0.5);

		const y = d3.scaleLinear()
			.domain([d3.min(data, d => d.low) - 5, d3.max(data, d => d.high) + 5])
			.range([height - margin.bottom, margin.top]);

		const lineHigh = d3.line()
			.x(d => x(d.day))
			.y(d => y(d.high));

		const lineLow = d3.line()
			.x(d => x(d.day))
			.y(d => y(d.low));

		const svg = d3.select("svg");

		// X-axis
		svg.append("g")
			.attr("transform", `translate(0,${height - margin.bottom})`)
			.call(d3.axisBottom(x));

		// Y-axis
		svg.append("g")
			.attr("transform", `translate(${margin.left},0)`)
			.call(d3.axisLeft(y))
			.call(g => g.selectAll(".tick line")
				.clone()
				.attr("x2", width - margin.left - margin.right)
				.attr("stroke-opacity", 0.1));
		// Y-axis label
			svg.append("text")
				.attr("transform", "rotate(-90)")
				.attr("x", -height/2)
				.attr("y", 15) // distance from left edge
				.attr("text-anchor", "middle")
				.attr("fill", "currentColor")
				.text("Temperature (Â°F)");
				
		// Draw lines
		svg.append("path")
			.datum(data)
			.attr("class", "line high")
			.attr("d", lineHigh);

		svg.append("path")
			.datum(data)
			.attr("class", "line low")
			.attr("d", lineLow);
			
		// High Temp square and text
		svg.append("rect")
		  .attr("x", width - margin.right - 80)
		  .attr("y", margin.top)
		  .attr("width", 10)
		  .attr("height", 10)
		  .attr("fill", "red");

		svg.append("text")
		  .attr("x", width - margin.right - 60)
		  .attr("y", margin.top + 8)
		  .attr("alignment-baseline", "middle")
		  .text("Highest");

		// Low Temp square and text
		svg.append("rect")
		  .attr("x", width - margin.right - 80)
		  .attr("y", margin.top + 20)
		  .attr("width", 10)
		  .attr("height", 10)
		  .attr("fill", "steelblue");

		svg.append("text")
		  .attr("x", width - margin.right - 60)
		  .attr("y", margin.top + 28)
		  .attr("alignment-baseline", "middle")
		  .text("Lowest");

	</script>
  </body>
</html>

